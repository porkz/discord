<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>Une antenne libre qui émet rien que pour toi</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="radio libre, libre antenne">
    <meta name="description" content="Libre Antenne : La seule radio libre ouverte 24h sur 24, 7 jours sur 7">
    <link href="favicon.png" rel="icon" type="image/x-icon">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="css/font-awesome.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <header>
      <h1>Libre Antenne</h1>
      <audio controls autoplay preload=auto
             src="http://stream.libreantenne.org:8080/listen-nomusic.mp3">
      </audio>
      <p><strong>La seule radio libre ouverte 24h sur 24, 7 jours sur 7</strong></p>
    </header>
    <main>
      <p>Vous pouvez participer à cette antenne expérimentale en animant avec nous sur <a href="https://discord.gg/KYT3PJX">discord</a> ou <a href="mumble://mumble.libreantenne.org/">mumble</a>.</p>
      <p>Une radio <strong>100% authentique</strong>, avec des bugs et de l'écho partout.</p>
      <p>Les thèmes des soirées sont les thèmes que vous proposez. Les musiques sont celles que vous jouez.</p>
      <p>Vous pouvez aussi contribuer en codant, en diffusant le lien, en faisant un don (d'argent) sur <a href="http://tipeee.com/triskel">tipee</a> ou <a href="http://patreon.com/triskel">patreon</a> ou un don (de temps, en regardant une pub vidéo) sur <a href="http://utip.io/triskel">utip.io</a>.</p>
      <p><strong>lien du flux audio:</strong> <a href="http://stream.libreantenne.org/listen-nomusic.mp3">http://stream.libreantenne.org/listen-nomusic.mp3</a></p>
      <p><strong>Animateurs:</strong></p>
      <div id="users"></div>
    </main>
      <footer>
        <ul>
          <li><a href="https://www.youtube.com/watch?v=0JM2JakR_As" class="fa fa-youtube"></a></li>
          <li><a href="http://facebook.com/LibreAntenne.org" class="fa fa-facebook"></a></li>
          <li><a href="https://twitter.com/AntenneLibre" class="fa fa-twitter"></a></li>
          <li><a href="https://www.twitch.tv/radiolibre" class="fa fa-twitch"></a></li>
          <li><a href="http://steamcommunity.com/groups/antenne" class="fa fa-steam"></a></li>
          <li><a href="https://www.youtube.com/channel/UCv-IUWEdhwb4yMy9Lo90yYQ"><img src="./css/img/triskel.png" alt="triskel"></a></li>
        </ul>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <!-- responsive default -->
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-3384294759836144"
               data-ad-slot="8855173430"
               data-ad-format="auto"></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>

      </footer>
<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();
  const mute = '<svg name="Nova_MicrophoneMute" class="icon-3BcwQu" aria-hidden="false" width="16" height="16" viewBox="0 0 24 24"><path d="M6.7 11H5C5 12.19 5.34 13.3 5.9 14.28L7.13 13.05C6.86 12.43 6.7 11.74 6.7 11Z" fill="currentColor"></path><path d="M9.01 11.085C9.015 11.1125 9.02 11.14 9.02 11.17L15 5.18V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 11.03 9.005 11.0575 9.01 11.085Z" fill="currentColor"></path><path d="M11.7237 16.0927L10.9632 16.8531L10.2533 17.5688C10.4978 17.633 10.747 17.6839 11 17.72V22H13V17.72C16.28 17.23 19 14.41 19 11H17.3C17.3 14 14.76 16.1 12 16.1C11.9076 16.1 11.8155 16.0975 11.7237 16.0927Z" fill="currentColor"></path><path d="M21 4.27L19.73 3L3 19.73L4.27 21L8.46 16.82L9.69 15.58L11.35 13.92L14.99 10.28L21 4.27Z" fill="currentColor"></path></svg>';
  const deaf = '<svg name="Nova_HeadsetDeafen" class="icon-3BcwQu" aria-hidden="false" width="16" height="16" viewBox="0 0 24 24"><path d="M6.16204 15.0065C6.10859 15.0022 6.05455 15 6 15H4V12C4 7.588 7.589 4 12 4C13.4809 4 14.8691 4.40439 16.0599 5.10859L17.5102 3.65835C15.9292 2.61064 14.0346 2 12 2C6.486 2 2 6.485 2 12V19.1685L6.16204 15.0065Z" fill="currentColor"></path><path d="M19.725 9.91686C19.9043 10.5813 20 11.2796 20 12V15H18C16.896 15 16 15.896 16 17V20C16 21.104 16.896 22 18 22H20C21.105 22 22 21.104 22 20V12C22 10.7075 21.7536 9.47149 21.3053 8.33658L19.725 9.91686Z" fill="currentColor"></path><path d="M3.20101 23.6243L1.7868 22.2101L21.5858 2.41113L23 3.82535L3.20101 23.6243Z" fill="currentColor"></path></svg>';
  const video = '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" x="0px" y="0px" viewBox="0 0 488.3 488.3" style="enable-background:new 0 0 488.3 488.3;" xml:space="preserve"> <g> <path d="M488.3,142.5v203.1c0,15.7-17,25.5-30.6,17.7l-84.6-48.8v13.9c0,41.8-33.9,75.7-75.7,75.7H75.7C33.9,404.1,0,370.2,0,328.4 V159.9c0-41.8,33.9-75.7,75.7-75.7h221.8c41.8,0,75.7,33.9,75.7,75.7v13.9l84.6-48.8C471.3,117,488.3,126.9,488.3,142.5z"/> </g> </svg>';

  socket.on('userlist', data =>{
      let table = document.createElement('table');
      for (const i in data) {
        let row = table.insertRow(i);
        let cell0 = row.insertCell(0);
        let cell1 = row.insertCell(1);
        let cell2 = row.insertCell(2);
        let cell3 = row.insertCell(3);
        let cell4 = row.insertCell(4);
        let cell5 = row.insertCell(5);
        if (data[i].avatar)
          cell0.innerHTML = '<img class="avatar" src="' + data[i].avatar +'">'
        else cell0.innerHTML = '<img class="avatar" src="https://avatars1.githubusercontent.com/u/1965106?s=400&v=4">';
        cell1.innerHTML = data[i].name;
        if (data[i].serverMute || data[i].selfMute)
          cell2.innerHTML = mute;
        if (data[i].serverDeaf || data[i].selfDeaf)
          cell3.innerHTML = deaf;
        if (data[i].selfVideo)
           cell4.innerHTML = video;
        if (data[i].streaming)
          cell5.innerHTML = '<span class="live">LIVE</span>';
      }
      let users = document.getElementById('users');
      users.innerHTML = '';
      users.appendChild(table); 
  });
</script>
  </body>
</html>

